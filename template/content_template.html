<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
            {% block title %}
            {% endblock %}
    </title>

    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/iview.css">
    <script type="text/javascript" src="/static/js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="/static/js/vue.js"></script>
    <script type="text/javascript" src="/static/js/iview.js"></script>
</head>
<body>

<div id="app" >
    <div class="top" align="center">

            <p class="topic" >
            {% block topic %}
                个人中心
            {% endblock %}
            </p>


        <a href="/" ><img src="/static/img/etlucency.png" class="titlealien"> </a>
     </div>
    <div class="middle">
        <div class="middle_p" >
            {% block middle_content %}
            {% endblock %}
        </div>
    </div>

<script>
        var account_data = [];
        {% for i in all_account %}
            account_data.push({"application":"{{ i.application }}","username":"{{ i.username }}","password":"{{ i.password }}","comment":"{{ i.comment }}","updateDate":"{{ i.updateDate }}"});
        {% endfor %}

    var app_content_template=new Vue({
        el: '#app',
        data: {
            account_title:[
                {
                    title:'Application',
                    key:'application'
                },
                {
                    title:'Username',
                    key:'username',
                },
                {
                    title:'Password',
                    key:'password'
                },
                {
                    title:'Comment',
                    key:'comment'
                },
                {
                    title:'UpdateDate',
                    key:"updateDate"
                }
            ],
            account_data: account_data,
            now:'',
            new_account:{
                application:'',
                username:'',
                password:'',
                comment:'',
            },
        },
        delimiters:['${', '}'],
        methods: {
            submit_new_account:function (name) {
                var lastLayer=this
                $.ajax({
                    type:"POST",
                    dataType:"json",
                    url:"/new_account_api",
                    data:name,
                    success:function (result) {
                        lastLayer.$Message.success(result.message)
                    },
                    error:function (result) {
                        lastLayer.$Message.error(result.message())
                    }
                })
            }
        }
    })

  </script>
</div>

</body>
</html>
